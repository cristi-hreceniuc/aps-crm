spring:
  profiles:
    active: local
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
  application:
    name: aps-crm
    profiles:
      include: local, default
    jpa:
      open-in-view: false
      show-sql: false
      hibernate:
        ddl-auto: none
      properties:
        hibernate:
          dialect: org.hibernate.dialect.PostgreSQLDialect
          format_sql: true
    jackson:
      serialization:
        WRITE_DATES_AS_TIMESTAMPS: false
  mail:
    host: ${MAIL_HOST}
    port: ${MAIL_PORT}
    username: ${MAIL_USERNAME}
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

security:
  jwt:
    secret-key: ${JWT_SECRET_KEY}
    expiration-time: ${JWT_EXPIRATION_TIME}
    refresh-expiration-time: ${JWT_REFRESH_TIME}

logging:
  level:
    org.springframework.web: DEBUG
    org.hibernate: ERROR
    org.springframework.security: DEBUG
    org.springframework.mail: DEBUG
    org.springframework.mail.javamail: DEBUG
app:
  reset:
    frontend-url: ${FRONTEND_URL}
    ttl-minutes: 60
  otp:
    ttl-minutes: 15
    max-attempts: 5
    lockout-minutes: 15

# AWS S3 Configuration for private asset storage
aws:
  s3:
    bucket-name: ${S3_BUCKET}
    region: ${S3_REGION}
    access-key: ${S3_ACCESS_KEY}
    secret-key: ${S3_SECRET_KEY}
    presigned-url-expiration-minutes: 60  # Pre-signed URLs valid for 60 minutes

# Firebase Configuration for push notifications
firebase:
  config-path: ${FIREBASE_CONFIG_PATH:classpath:firebase-service-account.json}